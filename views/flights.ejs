<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <style>
        .navbtn {
            background-color: rgb(227, 161, 197);
            background-image: none;
            color: #fff;
            cursor: pointer;
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
                Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif,
                Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
            font-size: 100%;
            font-weight: 900;
            line-height: 1.5;
            margin: 0;
            padding: 0;
            text-transform: uppercase;
            border-radius: 99rem;
            border-width: 2px;
            padding: 0.8rem 3rem;
        }

        .navbtn:hover {
            background-color: rgb(237, 197, 219);
        }

        table {
            border-collapse: collapse;
            width: 100%;
            border: 2px solid black;
        }

        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        tr:hover {
            background-color: #E50087;
        }

        .table-container {
            padding-top: 10%;
            padding-left: 20%;
            padding-right: 20%;
        }

        /* Optional styles for the dialog */
        dialog {
            width: 50%;
            padding: 20px;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const dialog = document.getElementById('sampleDialog');
            const openButton = document.getElementById('openDialog');
            const closeButton = document.getElementById('closeDialog');
            const submitButton = document.getElementById('submit');
            const passwordInput = document.getElementById('password');

            // Event listener to open the dialog
            openButton.addEventListener('click', function () {
                dialog.showModal(); // Use showModal() to open the dialog
            });

            // Event listener to close the dialog
            closeButton.addEventListener('click', function () {
                dialog.close();
            });

            // Event listener to handle the submit action
            submitButton.addEventListener('click', function(event){
                // Prevent form submission to avoid closing the dialog
                event.preventDefault();

                const enteredPassword = passwordInput.value; // Get the value of the password input
                if (enteredPassword === "password123") {
                   // alert("Login Attempt Successful");
                    dialog.close(); // Optionally, close the dialog after success
                    window.location.href = '/admin_flights';
                } else {
                    alert("Invalid Credentials");
                }
            });
        });
    </script>
</head>
<body style="background-color: rgb(155, 199, 153)">
    <div>
        <h1>Holiday Hackers</h1>
        <div style="float: right">
            <button class="navbtn" onclick="window.location.href='/dest'">
                Destinations
            </button>
            <button class="navbtn" onclick="window.location.href='/quiz_home'">
                Quiz
            </button>
            <button class="navbtn" onclick="window.location.href='/flights'">
                Flights
            </button>
        </div>
        <div class="table-container">
            <table>
                <tr>
                    <th>Flight Number</th>
                    <th>Departure Airport</th>
                    <th>Destination Airport</th>
                    <th>Departure Date</th>
                    <th>Departure Time</th>
                    <th>Arrival Date</th>
                    <th>Arrival Time</th>
                </tr>
                    
                    
            <% for (flight of allFlights){ %>
                <tr>
                    <td><%= flight.flight_num %></td>
                    <td>temp</td>
                    <td>temp</td>
                    <td>Nov. 18</td>
                    <td><%= flight.depart_time %></td>
                    <td>temp</td>
                    <td><%= flight.arrival_time %></td>
                </tr>
                <% } %>
            </table>
            <br><br>
            <button id="openDialog" class="navbtn" style="margin-left: 30%;">Administrative View</button>

            <!-- Dialog Box -->
            <dialog id="sampleDialog" >
                <h2 style="align-content: center;">Administration Authenticator</h2>
                <form method="dialog">
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" required>
                    <br>
                    <br>
                    <button type="submit" name="submit" id="submit">Submit</button>
                    <button type="button" id="closeDialog">Close</button>
                </form>
            </dialog>
        </div>
    </div>
</body>
</html>
